# IO

## 1.介绍一下Java中的IO流

IO用于实现对数据的输入与输出操作,Java把不同的输入/输出流抽象表述为流
​流是从起源到接收的有序数据,有了它程序可以采用同一方式访问不同的输入/输出源
​数据流向,输入流和输出流
​数据类型,字节流(8位)和字符流(16位)
​处理功能,节点流和处理流
节点流可以直接从/向一个特定的IO设备读/写数据,也称为低级流。
处理流是对节点流的连接或封装,用于简化数据读/写功能或提高效率
理解各个流的作用:
​        以File开头的文件流用于访问文件
​        以ByteArray/CharArray开头的流用于访问内存中的数组
​        以Piped开头的管道流用于访问管道,实现进程之间的通信
​        以String开头的流用于访问内存中的字符串
​        以Buffered开头的缓冲流,用于在读写数据时对数据进行缓冲,以减少IO次数
​        InputStreamReader,InputStreamWriter是转换流,用于将字节流转换为字符流
​        以Object开头的流是对象流,用于实现对象的序列化
​        以Print开头的流是打印流,用于简化打印操作
​        以Pushback开头的流是推回输入流,用于将已读入的数据推回到缓冲区,从而实现再次读取
​        以Data开头的流是特殊流,用于读写Java基本类型的数据



## 2.怎么用流打开一个大文件?

应避免直接将文件中的数据全部读取到内存中,可以采用分次读取的方式
​1.使用缓冲流
​        使用缓冲输入流时,它每次会读取一批数据将缓冲区填满,每次调用读取方法并不是直接从设备取值,而是从缓冲区取值,当缓冲区为空时,它会再一次读取数据,将缓冲区填满。使用缓冲输出流时,每次调用写入方法并不是直接写入到设备,而是写入缓冲区,当缓冲区填满时它会自动刷入设备。
​2.使用NIO
​        NIO采用内存映射文件的方式来处理输入/输出。NIO将文件或文件的一段区域映射到内存中,这样就可以像访问内存一样访问文件了。



## 3.说说NIO的实现原理

Java的IO主要有三个核心部分组成:Channel,Buffer,Selector
​Channel:所有的IO在NIO中都从一个Channel开始,数据可以从Channel读到Buffer中,也可以从Buffer写到Channel中
​Buffer:包含三个重要的属性,分别是capacity、position、limit,
        ​capacity:Buffer有个固定的最大值,就是capacity。Buffer只能写capacity个数据,一旦Buffer满了,需要将其清空才能继续写数据
​        position:当写数据到Buffer中时,position表示当前的位置。当将Buffer从写模式切换到读模式,position会被重置为0
​        limit:在写模式下,Buffer的limit表示最多能往Buffer里写多少数据,此时limit等于capacity
​        在读模式下,Buffer的limit表示做多能读到多少数据,此时limit会被设置成写模式下的position值
扩展:
​        JDK在Linux已经默认采用epoll方式,但是JDK的epoll采用的是水平触发
​    

## 4.介绍一下Java的序列化和反序列化

​        序列化机制可以将对象转换成字节序列,这些字节序列可以保存在磁盘上,也可以在网络上传输,并允许程序将这些字节序列再次恢复成原来的对象。
​        对象的序列化,是指将一个Java对象写入IO流
​        对象的反序列化,是指从IO流中恢复该Java对象
​        对象要实现序列化,则它的类需要实现Serializable接口。该接口标明该类是可序列化的,Java的很多类都实现了 Serializable接口,如包装类、String、Date等
​        在序列化时需要调用ObjectOutputStream对象的writeObject()方法,以输出对象序列。
​        在反序列化时需要调用ObjectInputStream对象的readObject()方法,将对象序列恢复成对象



## 5.Serializable接口为什么需要定义serialVersionUID变量?

​        serialVersionUID代表序列号的版本,通过定义的序列化版本,在反序列化时,只要对象中所存的版本和当前类的版本一致,就允许做恢复数据的操作,否则会抛出序列化版本不一致的错误



## 6.除了Java自带的序列化之外,你还了解哪些序列化工具?

JSON:目前使用比较频繁的格式化数据工具,简单直观,可读性好
Protobuf:一个用来序列化结构化数据的技术,可以使用该技术来持久化数据或者序列化成网络传输的数据
Thrift:FaceBook开源提供的一个高性能.轻量级RPC的服务框架
Avro:提供两种序列化格式,即JSON格式或者Binary格式。



## 7.如果不用JSON工具,该如何实现对实体类的序列化?

​     1.使用Java原生的序列化机制,适用小项目
​     2.使用其他的一些第三方类库		  